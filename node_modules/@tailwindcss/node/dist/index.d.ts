import { Candidate, Variant } from './candidate';
import { compileAstNodes } from './compile';
import { ClassEntry, VariantEntry } from './intellisense';
import { Theme } from './theme';
import { Utilities } from './utilities';
import { Variants } from './variants';

declare const DEBUG: boolean;

declare const env_DEBUG: typeof DEBUG;
declare namespace env {
  export { env_DEBUG as DEBUG };
}

type DesignSystem = {
    theme: Theme;
    utilities: Utilities;
    variants: Variants;
    invalidCandidates: Set<string>;
    important: boolean;
    getClassOrder(classes: string[]): [string, bigint | null][];
    getClassList(): ClassEntry[];
    getVariants(): VariantEntry[];
    parseCandidate(candidate: string): Candidate[];
    parseVariant(variant: string): Variant | null;
    compileAstNodes(candidate: Candidate): ReturnType<typeof compileAstNodes>;
    getVariantOrder(): Map<Variant, number>;
    resolveThemeValue(path: string): string | undefined;
    candidatesToCss(classes: string[]): (string | null)[];
};

declare function compile(css: string, { base, onDependency }: {
    base: string;
    onDependency: (path: string) => void;
}): Promise<{
    globs: {
        base: string;
        pattern: string;
    }[];
    build(candidates: string[]): string;
}>;
declare function __unstable__loadDesignSystem(css: string, { base }: {
    base: string;
}): Promise<DesignSystem>;
declare function loadModule(id: string, base: string, onDependency: (path: string) => void): Promise<{
    base: string;
    module: any;
}>;

declare function normalizePath(originalPath: string): string;

export { __unstable__loadDesignSystem, compile, env, loadModule, normalizePath };
